{% extends 'base.html.twig' %}

{% block title %}Hello market!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; position: relative;}
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }

    table {border-collapse: collapse; width: 100%;}
    table td, table th {border: 1px solid black; padding: 4px 8px;}
    table td:nth-of-type(3) {text-align: right; }

    .notice {margin: 10px 0; padding: 4px 8px; color: white; }
    .flash-notice {background-color: #aacd4e; }
    .flash-error {background-color: #C82829; }

    .alter-url {position: absolute; display: block; top: 16px; right: 0;}
</style>

<div class="example-wrapper">
    <h1>✅ Hello market! </h1>

    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="notice flash-{{ label }}">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    <table>
        <tr>
            <th>Наименование</th>
            <th>Автор</th>
            <th>Стоимость</th>
            <th>Действие</th>
        </tr>
        {% for product in products %}
        <tr>
            <td>{{ product.name }}</td>
            <td>{{ product.author }}</td>
            <td>{{ product.price }} $$</td>
            <td><a href="/basket/add/{{ product.id }}">Добавить в корзину</a></td>
        </tr>
        {% endfor %}
    </table>

    <a class="alter-url" href="/basket">Корзина {% if (basket_count) %}({{ basket_count }}){% endif %}</a>
</div>
{% endblock %}
